<ng-container *ngIf="!loading; else showLoading">
    <ng-container *ngIf="!error; else showError">
        <ng-container *ngIf="post; else showNoPost">
            <main class="max-w-3xl mx-auto px-4">

                <article class="pt-12 pb-24 prose max-w-none dark:prose-invert prose-a:text-blue-500 prose-invert">
                    <header class="not-prose mb-16">
                        <time class="date secondary-label" [dateTime]="post.published_at">{{ post.published_at |
                            date:'MM.dd.yy' }}</time>
                        <h1 class="text-3xl sm:text-6xl mb-3 label">{{ post.title }}</h1>
                        <h2 class="text-xl sm:text-2xl font-light mb-6 label">{{ post.description }}</h2>

                        <address class="flex items-center gap-2">
                            <img [src]="post.author.image" class="h-12 w-12 rounded-full">
                            <div>
                                <div class="font-medium not-italic label">{{ post.author.name }}</div>
                                <div class="font-light secondary-label leading-4">{{ post.author.title }}</div>
                            </div>
                        </address>
                    </header>

                    <img class="w-full" [src]="post.image" class="rounded-3xl">

                    <p [innerHTML]="blogService.markdownToHtml(post.content)"></p>
                </article>
            </main>
        </ng-container>
        <ng-template #showNoPost>Post not found</ng-template>
    </ng-container>
    <ng-template #showError>Error</ng-template>
</ng-container>

<ng-template #showLoading></ng-template>